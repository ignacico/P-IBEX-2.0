// Copyright Ignacio.
// Licensed under BSD 3-Clause License, see LICENSE for details.

#include "simple_system_common.h"

void calculate(){
  uint32_t resultBuffer[512];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < 512; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000003);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < 512; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}
void mult64(){
  uint32_t resultBuffer[64];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < 64; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000002);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < 64; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}
void add64(){
  uint32_t resultBuffer[64];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < 64; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < 64; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}
void div64(){
  uint32_t resultBuffer[64];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < 64; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000003);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < 64; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}
void calculate1024(){
  for(int j = 0; j<2; j++){
    uint32_t resultBuffer[512];
    // initialize coprocessor processing
    DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
    // load data
    for(int i = 0;i < 512; ++i){
      DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
      DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
    }
    // load op code
    DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
    // DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000003);
    // start process
    DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

    for(int i = 0;i < 512; ++i){
      resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
    }
  }
}

void calculate256(){
  uint32_t resultBuffer[256];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < 256; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < 256; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}

void multN(int n){
  uint32_t resultBuffer[n];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < n; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000002);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < n; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}
void addN(int n){
  uint32_t resultBuffer[n];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < n; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < n; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}
void divN(int n){
  uint32_t resultBuffer[n];
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  for(int i = 0;i < n; ++i){
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000); 
  }
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000003);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  for(int i = 0;i < n; ++i){
    resultBuffer[i] = DEV_READ(POSIT_COOPROC_BASE, 0);
  }
}

int main(int argc, char **argv) {
  for(int i = 0; i<4; i++){
    // initialize coprocessor processing
    DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
    // load data
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    // load op code
    DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
    // start process
    DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
    // read result
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
  }
  for(int i = 0; i<4; i++){
    // initialize coprocessor processing
    DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
    // load data
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    // load op code
    DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000002);
    // start process
    DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
    // read result
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
  }
  for(int i = 0; i<4; i++){
    // initialize coprocessor processing
    DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
    // load data
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    // load op code
    DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000003);
    // start process
    DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
    // read result
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
  }
  for(int i = 0; i<4; i++){
    // initialize coprocessor processing
    DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
    // load data
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
    DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
    // load op code
    DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
    // start process
    DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
    // read result
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
    DEV_READ(POSIT_COOPROC_BASE, 0);
  }

  return 0;
}

/* Pruebas de rendimiento
  calculate();
  calculate();
*/

/* Prueba 2 sumas 2 divisiones 3 multiplicaciones y 4 sumas
  
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40c00000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");

  puts("\n");

  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x41000000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x41800000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000003);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");

  puts("\n");

  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000002);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");

  puts("\n");



  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);
  // load data
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x40c00000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");

*/


/*

  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);

  DEV_WRITE(POSIT_COOPROC_OP_A, 0x41000000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x41000000);

  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);


  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");


  /////////// STOP ////////////
  // initialize coprocessor processing
  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);

  //////////// LOAD ///////////
  // load data, operand a and b
  for(int i = 0; i<64; i++){
    DEV_WRITE(POSIT_COOPROC_OP_A, data_a[i]);
    DEV_WRITE(POSIT_COOPROC_OP_B, data_b[i]);
  }

  // load op code
  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);


  // start process
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);

  //////////// PROCESSING /////////////
  
  ///////////// PROCESSED /////////////
  for(int i = 0; i < 64; i++){
    puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
    puts("\n");
  }
  
  puts("\n");
  puts("\n");
  puts("\n");

  DEV_WRITE(POSIT_COOPROC_BASE, 0x00000000);

  DEV_WRITE(POSIT_COOPROC_OP_A, 0x41000000);
  DEV_WRITE(POSIT_COOPROC_OP_A, 0x41000000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);
  DEV_WRITE(POSIT_COOPROC_OP_B, 0x40800000);

  DEV_WRITE(POSIT_COOPROC_OP_CODE, 0x00000001);
  DEV_WRITE(POSIT_COOPROC_START, 0x00000000);


  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  puthex(DEV_READ(POSIT_COOPROC_BASE, 0));
  puts("\n");
  */